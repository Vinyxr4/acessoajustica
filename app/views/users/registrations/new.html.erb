<h2>Cadastrar Usuário</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= devise_error_messages! %>

</br>

  <div class= "container-fluid">
    <div class="row">
      <div class="form-group col-md-6">
        <%= f.label "Nome de Usuário"%>
        <%= f.text_field :username, :class => 'form-control' %>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <%= f.label "Email"%>
        <%= f.email_field :email, :class => 'form-control' %>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-3 col-sm-6">
        <%= f.label "Senha"%>
        <% if @validatable %>
          <em>(No mínimo <%= @minimum_password_length %> caracteres.)</em>
        <% end %><br />
        <%= f.password_field :password, autocomplete: "off", :class => 'form-control' %>
      </div>
      <div class="form-group col-md-3 col-sm-6">
        <%= f.label "Confirmação de Senha"%>
        <% if @validatable %>
          <em>(No mínimo <%= @minimum_password_length %> caracteres.)</em>
        <% end %><br />
        <%= f.password_field :password_confirmation, autocomplete: "off", :class => 'form-control' %>
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <%= f.label "Permissão"%>
        <%= f.select :role_ids, get_roles_helper, {}, {:multiple => true, :class => 'form-control', :size => 3} %>
      </div>
    </div>
  </div>
  <div>
    <%= f.fields_for :membro do |membro_form| %>
      <%= render :partial => 'pessoas/fields', :locals => { :f => membro_form, :@pessoa => resource.membro} %>
      <%= render :partial => 'membros/fields', :locals => { :f => membro_form, :@membro => resource.membro} %>
    <% end %>
  </div>
  </br>
  <div class="container-fluid">
    <div class="actions form-group">
      <%= f.submit "Cadastrar", :class => "btn btn-primary" %>
    </div>
  </div>
<% end %>

<%# <%= render "users/shared/links" %>
